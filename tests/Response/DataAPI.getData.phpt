<?php

use IQRF\Cloud\Response\DataAPI,
	Tester\Assert;

require __DIR__ . '/../bootstrap.php';

$dataApi = new DataAPI();

$response = '15;616263;2013­09­09 11:49:59;not­picked;;\r\n'
		. '14;616263;2013­09­09 11:49:34;not­picked;;\r\n'
		. '13;68656c6c6f207065747261;2013­08­30 18:59:04;sent;2013­08­30 19:10:51;\r\n'
		. '12;68656c6f6f32;2013­08­29 19:43:22;sent;2013­08­30 19:05:45;\r\n'
		. '11;68656c6c6f;2013­08­29 07:27:48;sent;2013­08­29 07:45:17;\r\n'
		. '10;68656c6c6f;2013­08­29 07:24:38;sent;2013­08­29 07:25:03;\r\n'
		. '9;74657374;2013­08­27 18:48:53;confirmed;2013­08­27 18:48:53;\r\n';

$array = [['15', '616263', '2013­09­09 11:49:59', 'not­picked', ''],
	['14', '616263', '2013­09­09 11:49:34', 'not­picked', ''],
	['13', '68656c6c6f207065747261', '2013­08­30 18:59:04', 'sent', '2013­08­30 19:10:51'],
	['12', '68656c6f6f32', '2013­08­29 19:43:22', 'sent', '2013­08­30 19:05:45'],
	['11', '68656c6c6f', '2013­08­29 07:27:48', 'sent', '2013­08­29 07:45:17'],
	['10', '68656c6c6f', '2013­08­29 07:24:38', 'sent', '2013­08­29 07:25:03'],
	['9', '74657374', '2013­08­27 18:48:53', 'confirmed', '2013­08­27 18:48:53']];

Assert::same($array, $dataApi->getData($response));
